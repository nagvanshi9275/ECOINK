generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model AdminUser {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  role      String   @default("ADMIN")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model HeroBanner {
  id         String   @id @default(uuid())
  heading    String
  subheading String?
  image      String
  ctaText    String?
  ctaLink    String?
  order      Int      @default(0)
  isVisible  Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model ContentSection {
  id           String        @id @default(uuid())
  internalName String
  type         String
  content      Json
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
  pages        PageSection[]
}

model PageSection {
  id        String         @id @default(uuid())
  pageId    String
  sectionId String
  order     Int            @default(0)
  page      Page           @relation(fields: [pageId], references: [id], onDelete: Cascade)
  section   ContentSection @relation(fields: [sectionId], references: [id])

  @@index([pageId])
}

model Page {
  id                 String        @id @default(uuid())
  title              String
  slug               String        @unique
  isPublished        Boolean       @default(false)
  content            Json?
  metaTitle          String?
  metaDescription    String?
  keywords           String?
  canonicalUrl       String?
  ogTitle            String?
  ogDescription      String?
  ogImage            String?
  noIndex            Boolean       @default(false)
  createdAt          DateTime      @default(now())
  updatedAt          DateTime      @updatedAt
  breadcrumbTitle    String?
  focusKeyphrase     String?
  lastSeoAudit       DateTime?
  metaRobots         String?       @default("index,follow")
  navbarLabel        String?
  navbarOrder        Int           @default(0)
  ogType             String?       @default("website")
  readabilityScore   Int?          @default(0)
  schemaJson         Json?
  schemaType         String?       @default("WebPage")
  seoDescription     String?
  seoKeywords        String?
  seoScore           Int?          @default(0)
  seoTitle           String?
  showInNavbar       Boolean       @default(false)
  twitterCard        String?       @default("summary_large_image")
  twitterDescription String?
  twitterImage       String?
  twitterTitle       String?
  sections           PageSection[]
}

model BlogPost {
  id                 String    @id @default(uuid())
  title              String
  slug               String    @unique
  excerpt            String?
  content            String
  coverImage         String?
  isPublished        Boolean   @default(false)
  publishedAt        DateTime?
  authorId           String?
  metaTitle          String?
  metaDescription    String?
  focusKeyword       String?
  canonicalUrl       String?
  ogTitle            String?
  ogDescription      String?
  ogImage            String?
  noIndex            Boolean   @default(false)
  noFollow           Boolean   @default(false)
  readingTime        Int?      @default(0)
  categoryId         String?
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  breadcrumbTitle    String?
  coverImageAlt      String?
  focusKeyphrase     String?
  lastSeoAudit       DateTime?
  metaRobots         String?   @default("index,follow")
  ogType             String?   @default("article")
  readabilityScore   Int?      @default(0)
  schemaJson         Json?
  schemaType         String?   @default("Article")
  seoDescription     String?
  seoKeywords        String?
  seoScore           Int?      @default(0)
  seoTitle           String?
  twitterCard        String?   @default("summary_large_image")
  twitterDescription String?
  twitterImage       String?
  twitterTitle       String?
  category           Category? @relation(fields: [categoryId], references: [id])
  tags               Tag[]     @relation("BlogPostToTag")
}

model Category {
  id    String     @id @default(uuid())
  name  String     @unique
  slug  String     @unique
  posts BlogPost[]
}

model Tag {
  id    String     @id @default(uuid())
  name  String     @unique
  slug  String     @unique
  posts BlogPost[] @relation("BlogPostToTag")
}

model Project {
  id                 String    @id @default(uuid())
  title              String
  slug               String    @unique
  description        String
  location           String?
  category           String?
  client             String?
  completionDate     DateTime?
  images             String[]
  isVisible          Boolean   @default(true)
  metaTitle          String?
  metaDescription    String?
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  afterImage         String?
  afterImageAlt      String?
  beforeImage        String?
  beforeImageAlt     String?
  breadcrumbTitle    String?
  canonicalUrl       String?
  content            String?
  faqs               Json?
  focusKeyphrase     String?
  gallerySubtitle    String?
  galleryTitle       String?
  heroImage          String?
  heroImageAlt       String?
  lastSeoAudit       DateTime?
  metaRobots         String?   @default("index,follow")
  ogDescription      String?
  ogImage            String?
  ogTitle            String?
  ogType             String?   @default("website")
  readabilityScore   Int?      @default(0)
  schemaJson         Json?
  schemaType         String?   @default("WebPage")
  seoDescription     String?
  seoKeywords        String?
  seoScore           Int?      @default(0)
  seoTitle           String?
  tags               Json?
  testimonialClient  String?
  testimonialText    String?
  twitterCard        String?   @default("summary_large_image")
  twitterDescription String?
  twitterImage       String?
  twitterTitle       String?
  thumbnailImage     String?
  thumbnailImageAlt  String?
}

model Service {
  id                 String    @id @default(uuid())
  name               String
  slug               String    @unique
  description        String
  icon               String?
  image              String?
  ctaLink            String?
  order              Int       @default(0)
  isVisible          Boolean   @default(true)
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  additionalContent  String?
  breadcrumbTitle    String?
  canonicalUrl       String?
  content            String?
  ctaBadge           String?
  ctaDescription     String?
  ctaPhone           String?
  ctaText            String?
  ctaTitle           String?
  faqs               Json?
  featureBadge       String?
  featureSubtitle    String?
  featureTitle       String?
  features           Json?
  focusKeyphrase     String?
  galleryImages      String[]
  heroBadge          String?
  heroImage          String?
  heroImageAlt       String?
  heroSubtitle       String?
  imageAlt           String?
  lastSeoAudit       DateTime?
  metaKeywords       String?
  metaRobots         String?   @default("index,follow")
  ogDescription      String?
  ogImage            String?
  ogTitle            String?
  ogType             String?   @default("website")
  readabilityScore   Int?      @default(0)
  schemaJson         Json?
  schemaType         String?   @default("Service")
  seoDescription     String?
  seoKeywords        String?
  seoScore           Int?      @default(0)
  seoTitle           String?
  testimonialIds     String[]
  trustBadges        Json?
  twitterCard        String?   @default("summary_large_image")
  twitterDescription String?
  twitterImage       String?
  twitterTitle       String?
  industryUseCases   Json?
  suppliers          Json?
  whyChooseUs        Json?
}

model Partner {
  id         String   @id @default(uuid())
  name       String
  logoUrl    String
  websiteUrl String?
  order      Int      @default(0)
  isVisible  Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model MenuItem {
  id        String     @id @default(uuid())
  label     String
  link      String
  parentId  String?
  order     Int        @default(0)
  isVisible Boolean    @default(true)
  parent    MenuItem?  @relation("MenuHierarchy", fields: [parentId], references: [id])
  children  MenuItem[] @relation("MenuHierarchy")
}

model MediaAsset {
  id        String   @id @default(uuid())
  filename  String
  url       String
  type      String
  size      Int?
  createdAt DateTime @default(now())
  altText   String?
  caption   String?
  focusArea Json?
  height    Int?
  title     String?
  width     Int?
}

model ContactMessage {
  id        String   @id @default(uuid())
  name      String
  email     String
  phone     String?
  subject   String?
  message   String
  status    String   @default("UNREAD")
  createdAt DateTime @default(now())
}

model Testimonial {
  id         String   @id @default(uuid())
  clientName String
  role       String?
  content    String
  avatarUrl  String?
  rating     Int      @default(5)
  isVisible  Boolean  @default(true)
  createdAt  DateTime @default(now())
}

model FAQ {
  id        String   @id @default(uuid())
  question  String
  answer    String
  order     Int      @default(0)
  isVisible Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SeoSettings {
  id                  Int      @id @default(1)
  siteName            String   @default("Magri Cabinets")
  siteTitle           String?
  siteDescription     String?
  defaultOgImage      String?
  businessName        String?  @default("Magri Cabinets")
  businessType        String?  @default("LocalBusiness")
  streetAddress       String?
  addressLocality     String?  @default("Melbourne")
  addressRegion       String?  @default("VIC")
  postalCode          String?
  telephone           String?
  priceRange          String?  @default("$$")
  latitude            Float?
  longitude           Float?
  openingHours        Json?
  facebookUrl         String?
  instagramUrl        String?
  linkedinUrl         String?
  youtubeUrl          String?
  googleAnalyticsId   String?
  googleSearchConsole String?
  googleTagManager    String?
  facebookPixel       String?
  sitemapEnabled      Boolean  @default(true)
  sitemapFrequency    String?  @default("weekly")
  updatedAt           DateTime @updatedAt
}

model GlobalSettings {
  id               Int      @id @default(1)
  siteName         String   @default("Magri Cabinets")
  siteLogo         String?
  footerContent    String?
  copyrightText    String?
  socialLinks      Json
  contactEmail     String?
  contactPhone     String?
  address          String?
  defaultMetaTitle String?
  defaultMetaDesc  String?
  favicon          String?
  enableCustomHero Boolean  @default(false)
  heroBgImage      String?
  heroTitle        String?
  updatedAt        DateTime @updatedAt
}

model Redirect {
  id         String   @id @default(uuid())
  fromPath   String   @unique
  toPath     String
  statusCode Int      @default(301)
  isActive   Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}
